(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-429d84f4"],{"057f":function(t,e,s){var r=s("fc6a"),a=s("241c").f,n={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(t){try{return a(t)}catch(e){return i.slice()}};t.exports.f=function(t){return i&&"[object Window]"==n.call(t)?o(t):a(r(t))}},"159b":function(t,e,s){var r=s("da84"),a=s("fdbc"),n=s("17c2"),i=s("9112");for(var o in a){var c=r[o],l=c&&c.prototype;if(l&&l.forEach!==n)try{i(l,"forEach",n)}catch(u){l.forEach=n}}},"17c2":function(t,e,s){"use strict";var r=s("b727").forEach,a=s("b301");t.exports=a("forEach")?function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},"28e1":function(t,e,s){"use strict";var r=s("5116"),a=s.n(r);a.a},3925:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container text-center mt-5 mb-5"},[s("div",{staticClass:"circle",class:{"p-active":1===t.step||2===t.step||3===t.step}},[t._v(" 1 "),s("span",{staticClass:"step",class:{"p-active-font":1===t.step||2===t.step||3===t.step}},[t._v("確認購物清單")])]),s("div",{staticClass:"circle-line",class:{"p-active":2===t.step||3===t.step}}),s("div",{staticClass:"circle",class:{"p-active":2===t.step||3===t.step}},[t._v(" 2 "),s("span",{staticClass:"step",class:{"p-active-font":2===t.step||3===t.step}},[t._v("金流付款")])]),s("div",{staticClass:"circle-line",class:{"p-active":3===t.step}}),s("div",{staticClass:"circle",class:{"p-active":3===t.step}},[t._v(" 3 "),s("span",{staticClass:"step",class:{"p-active-font":3===t.step}},[t._v("完成")])])])])},a=[],n={props:["step"],data:function(){return{}}},i=n,o=(s("bbdf"),s("2877")),c=Object(o["a"])(i,r,a,!1,null,null,null);e["a"]=c.exports},"415a":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mb-5"},[s("Progress",{staticClass:"mt-72 pt-2",attrs:{step:t.step}}),s("div",{staticClass:"container row m-auto"},[s("div",{staticClass:"col-md-7 col-12 mb-5"},[s("form",{staticClass:"col-md-12",on:{submit:function(e){return e.preventDefault(),t.createOrder(e)}}},[s("div",{staticClass:"form-group"},[t._m(0),t.errors.has("name")?s("span",{staticClass:"text-danger"},[t._v("姓名必須輸入")]):t._e(),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("name")},attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(e){e.target.composing||t.$set(t.form.user,"name",e.target.value)}}})]),s("div",{staticClass:"form-group"},[t._m(1),t.errors.has("tel")?s("span",{staticClass:"text-danger"},[t._v("電話欄位不得留空")]):t._e(),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("tel")},attrs:{type:"tel",id:"usertel",name:"tel",placeholder:"請輸入電話"},domProps:{value:t.form.user.tel},on:{input:function(e){e.target.composing||t.$set(t.form.user,"tel",e.target.value)}}})]),s("div",{staticClass:"form-group"},[t._m(2),t.errors.has("email")?s("span",{staticClass:"text-danger"},[t._v(" "+t._s(t.errors.first("email"))+" ")]):t._e(),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("email")},attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email"},domProps:{value:t.form.user.email},on:{input:function(e){e.target.composing||t.$set(t.form.user,"email",e.target.value)}}})]),s("div",{staticClass:"form-group"},[t._m(3),t.errors.has("address")?s("span",{staticClass:"text-danger"},[t._v("地址欄位不得留空")]):t._e(),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("address")},attrs:{type:"text",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(e){e.target.composing||t.$set(t.form.user,"address",e.target.value)}}})]),s("div",{staticClass:"form-group"},[t._m(4),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"comment",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})]),t._m(5)])]),s("div",{staticClass:"col-md-5 col-12 cart-list"},[s("h4",{staticClass:"text-center text-dark"},[t._v("購物清單 "),s("span",{staticClass:"badge badge-danger ml-3"},[t._v(" "+t._s(t.cartNum)+" ")]),t._v(" 件 ")]),t._l(t.cart,(function(e,r){return s("div",{key:r,staticClass:"cart-item mb-2"},[s("button",{staticClass:"btn-delete mr-1",attrs:{type:"button"},on:{click:function(s){return t.removeCartItem(e.id)}}},[s("i",{staticClass:"far fa-trash-alt"})]),s("img",{staticClass:"cart-itemImg mr-1",attrs:{src:e.product.imageUrl}}),s("span",{staticClass:"item-title text-color"},[t._v(" "+t._s(e.product.title)+" ")]),s("span",{staticClass:"item-price"},[t._v("NT "+t._s(t._f("currency")(e.final_total)))]),s("span",{staticClass:"item-qty"},[t._v(t._s(e.qty)+"/"+t._s(e.product.unit))])])})),s("div",{staticClass:"cart-item mb-3 text-center bg-total"},[s("span",{staticClass:"item-total"},[t._v("總額 "),t.total.final_total!==t.total.total?s("span",{staticClass:"text-success"},[t._v(" 折扣價 ")]):t._e(),t._v("NT "+t._s(t._f("currency")(t.total.final_total)))])]),s("div",{staticClass:"input-group mb-3 ml-4"},[s("div",{staticClass:"input-group-prepend"},[s("button",{staticClass:"btn btn-info",attrs:{type:"botton"},on:{click:t.useCouponCode}},[t._v(" 送出 ")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"input-code",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.coupon_code},on:{input:function(e){e.target.composing||(t.coupon_code=e.target.value)}}})])],2)]),s("Alert")],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"text-color",attrs:{for:"username"}},[s("i",{staticClass:"fas fa-user"}),t._v(" 收件人姓名")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"text-color",attrs:{for:"usertel"}},[s("i",{staticClass:"fas fa-phone-alt"}),t._v(" 收件人電話")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"text-color",attrs:{for:"useremail"}},[s("i",{staticClass:"fas fa-envelope"}),t._v(" Email")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"text-color",attrs:{for:"useraddress"}},[s("i",{staticClass:"fas fa-map-marker-alt"}),t._v(" 收件人地址")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"text-color",attrs:{for:"comment"}},[s("i",{staticClass:"fas fa-comment-dots"}),t._v(" 留言(選填)")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center"},[s("button",{staticClass:"btn btn-info"},[t._v("前往付款 "),s("i",{staticClass:"fas fa-caret-right"})])])}],n=(s("a4d3"),s("4de4"),s("e439"),s("dbb4"),s("b64b"),s("159b"),s("ade3")),i=s("2f62"),o=s("3925"),c=s("56a6");function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function u(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){Object(n["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var f={components:{Progress:o["a"],Alert:c["a"]},data:function(){return{step:1,coupon_code:"",form:{user:{name:"",email:"",tel:"",address:""},message:""}}},computed:u({},Object(i["c"])("cartModules",["cart","cartNum","total","couponSuccess"]),{},Object(i["c"])("orderModules",["createOrderRes","orderID"])),watch:{couponSuccess:{handler:"showMessage",immediate:!0},createOrderRes:{handler:"orderMessage",immediate:!0}},created:function(){this.getCart()},methods:u({},Object(i["b"])("cartModules",["getCart","resetSuccess"]),{},Object(i["b"])("orderModules",["resetRes"]),{removeCartItem:function(t){this.$store.dispatch("cartModules/removeCartItem",t)},useCouponCode:function(){var t=this.coupon_code;this.$store.dispatch("cartModules/useCouponCode",t),this.coupon_code=""},showMessage:function(t){"success"===t?(this.$bus.$emit("message:push","優惠卷使用成功","success"),this.resetSuccess()):"failure"===t&&(this.$bus.$emit("message:push","優惠卷號碼錯誤","danger"),this.resetSuccess())},orderMessage:function(t){var e=this.orderID;"success"===t?(this.$bus.$emit("message:push","訂單建立成功","success"),this.resetRes(),this.$router.push("CartPay/".concat(e))):"failure"===t&&(this.$bus.$emit("message:push","訂單建立失敗","danger"),this.resetRes())},createOrder:function(){var t=this,e=t.form;0!==t.cartNum?t.$validator.validate().then((function(s){s?t.$store.dispatch("orderModules/createOrder",e):t.$bus.$emit("message:push","表單填寫不完整！","danger")})):t.$bus.$emit("message:push","購物車內無商品！","danger")}})},m=f,d=(s("28e1"),s("2877")),p=Object(d["a"])(m,r,a,!1,null,null,null);e["default"]=p.exports},"4a2f":function(t,e,s){"use strict";var r=s("b1d9"),a=s.n(r);a.a},5116:function(t,e,s){},"56a6":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"message-alert"},t._l(t.messages,(function(e,r){return s("div",{key:r,staticClass:"alert alert-dismissible",class:"alert-"+e.status},[t._v(" "+t._s(e.message)+" "),s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.removeMessage(r)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},a=[],n=(s("a434"),s("159b"),{data:function(){return{messages:[]}},methods:{updateMessage:function(t,e){var s=Math.floor(new Date/1e3);this.messages.push({message:t,status:e,timestamp:s}),this.removeMessageWithTiming(s)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var e=this;setTimeout((function(){e.messages.forEach((function(s,r){s.timestamp===t&&e.messages.splice(r,1)}))}),2e3)}},created:function(){var t=this;t.$bus.$on("message:push",(function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(e,s)}))}}),i=n,o=(s("4a2f"),s("2877")),c=Object(o["a"])(i,r,a,!1,null,null,null);e["a"]=c.exports},"746f":function(t,e,s){var r=s("428f"),a=s("5135"),n=s("c032"),i=s("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});a(e,t)||i(e,t,{value:n.f(t)})}},a434:function(t,e,s){"use strict";var r=s("23e7"),a=s("23cb"),n=s("a691"),i=s("50c4"),o=s("7b0b"),c=s("65f0"),l=s("8418"),u=s("1dde"),f=Math.max,m=Math.min,d=9007199254740991,p="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!u("splice")},{splice:function(t,e){var s,r,u,v,b,g,h=o(this),C=i(h.length),_=a(t,C),y=arguments.length;if(0===y?s=r=0:1===y?(s=0,r=C-_):(s=y-2,r=m(f(n(e),0),C-_)),C+s-r>d)throw TypeError(p);for(u=c(h,r),v=0;v<r;v++)b=_+v,b in h&&l(u,v,h[b]);if(u.length=r,s<r){for(v=_;v<C-r;v++)b=v+r,g=v+s,b in h?h[g]=h[b]:delete h[g];for(v=C;v>C-r+s;v--)delete h[v-1]}else if(s>r)for(v=C-r;v>_;v--)b=v+r-1,g=v+s-1,b in h?h[g]=h[b]:delete h[g];for(v=0;v<s;v++)h[v+_]=arguments[v+2];return h.length=C-r+s,u}})},a4d3:function(t,e,s){"use strict";var r=s("23e7"),a=s("da84"),n=s("d066"),i=s("c430"),o=s("83ab"),c=s("4930"),l=s("fdbf"),u=s("d039"),f=s("5135"),m=s("e8b5"),d=s("861d"),p=s("825a"),v=s("7b0b"),b=s("fc6a"),g=s("c04e"),h=s("5c6c"),C=s("7c73"),_=s("df75"),y=s("241c"),O=s("057f"),w=s("7418"),S=s("06cf"),x=s("9bf2"),j=s("d1e7"),P=s("9112"),$=s("6eeb"),M=s("5692"),E=s("f772"),L=s("d012"),N=s("90e3"),T=s("b622"),k=s("c032"),D=s("746f"),q=s("d44e"),R=s("69f3"),I=s("b727").forEach,V=E("hidden"),A="Symbol",G="prototype",F=T("toPrimitive"),H=R.set,J=R.getterFor(A),W=Object[G],B=a.Symbol,Q=n("JSON","stringify"),U=S.f,z=x.f,K=O.f,X=j.f,Y=M("symbols"),Z=M("op-symbols"),tt=M("string-to-symbol-registry"),et=M("symbol-to-string-registry"),st=M("wks"),rt=a.QObject,at=!rt||!rt[G]||!rt[G].findChild,nt=o&&u((function(){return 7!=C(z({},"a",{get:function(){return z(this,"a",{value:7}).a}})).a}))?function(t,e,s){var r=U(W,e);r&&delete W[e],z(t,e,s),r&&t!==W&&z(W,e,r)}:z,it=function(t,e){var s=Y[t]=C(B[G]);return H(s,{type:A,tag:t,description:e}),o||(s.description=e),s},ot=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof B},ct=function(t,e,s){t===W&&ct(Z,e,s),p(t);var r=g(e,!0);return p(s),f(Y,r)?(s.enumerable?(f(t,V)&&t[V][r]&&(t[V][r]=!1),s=C(s,{enumerable:h(0,!1)})):(f(t,V)||z(t,V,h(1,{})),t[V][r]=!0),nt(t,r,s)):z(t,r,s)},lt=function(t,e){p(t);var s=b(e),r=_(s).concat(pt(s));return I(r,(function(e){o&&!ft.call(s,e)||ct(t,e,s[e])})),t},ut=function(t,e){return void 0===e?C(t):lt(C(t),e)},ft=function(t){var e=g(t,!0),s=X.call(this,e);return!(this===W&&f(Y,e)&&!f(Z,e))&&(!(s||!f(this,e)||!f(Y,e)||f(this,V)&&this[V][e])||s)},mt=function(t,e){var s=b(t),r=g(e,!0);if(s!==W||!f(Y,r)||f(Z,r)){var a=U(s,r);return!a||!f(Y,r)||f(s,V)&&s[V][r]||(a.enumerable=!0),a}},dt=function(t){var e=K(b(t)),s=[];return I(e,(function(t){f(Y,t)||f(L,t)||s.push(t)})),s},pt=function(t){var e=t===W,s=K(e?Z:b(t)),r=[];return I(s,(function(t){!f(Y,t)||e&&!f(W,t)||r.push(Y[t])})),r};if(c||(B=function(){if(this instanceof B)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=N(t),s=function(t){this===W&&s.call(Z,t),f(this,V)&&f(this[V],e)&&(this[V][e]=!1),nt(this,e,h(1,t))};return o&&at&&nt(W,e,{configurable:!0,set:s}),it(e,t)},$(B[G],"toString",(function(){return J(this).tag})),$(B,"withoutSetter",(function(t){return it(N(t),t)})),j.f=ft,x.f=ct,S.f=mt,y.f=O.f=dt,w.f=pt,k.f=function(t){return it(T(t),t)},o&&(z(B[G],"description",{configurable:!0,get:function(){return J(this).description}}),i||$(W,"propertyIsEnumerable",ft,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:B}),I(_(st),(function(t){D(t)})),r({target:A,stat:!0,forced:!c},{for:function(t){var e=String(t);if(f(tt,e))return tt[e];var s=B(e);return tt[e]=s,et[s]=e,s},keyFor:function(t){if(!ot(t))throw TypeError(t+" is not a symbol");if(f(et,t))return et[t]},useSetter:function(){at=!0},useSimple:function(){at=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!o},{create:ut,defineProperty:ct,defineProperties:lt,getOwnPropertyDescriptor:mt}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:dt,getOwnPropertySymbols:pt}),r({target:"Object",stat:!0,forced:u((function(){w.f(1)}))},{getOwnPropertySymbols:function(t){return w.f(v(t))}}),Q){var vt=!c||u((function(){var t=B();return"[null]"!=Q([t])||"{}"!=Q({a:t})||"{}"!=Q(Object(t))}));r({target:"JSON",stat:!0,forced:vt},{stringify:function(t,e,s){var r,a=[t],n=1;while(arguments.length>n)a.push(arguments[n++]);if(r=e,(d(e)||void 0!==t)&&!ot(t))return m(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!ot(e))return e}),a[1]=e,Q.apply(null,a)}})}B[G][F]||P(B[G],F,B[G].valueOf),q(B,A),L[V]=!0},ade3:function(t,e,s){"use strict";function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}s.d(e,"a",(function(){return r}))},b1d9:function(t,e,s){},b301:function(t,e,s){"use strict";var r=s("d039");t.exports=function(t,e){var s=[][t];return!s||!r((function(){s.call(null,e||function(){throw 1},1)}))}},b64b:function(t,e,s){var r=s("23e7"),a=s("7b0b"),n=s("df75"),i=s("d039"),o=i((function(){n(1)}));r({target:"Object",stat:!0,forced:o},{keys:function(t){return n(a(t))}})},bbdf:function(t,e,s){"use strict";var r=s("de50"),a=s.n(r);a.a},c032:function(t,e,s){var r=s("b622");e.f=r},dbb4:function(t,e,s){var r=s("23e7"),a=s("83ab"),n=s("56ef"),i=s("fc6a"),o=s("06cf"),c=s("8418");r({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){var e,s,r=i(t),a=o.f,l=n(r),u={},f=0;while(l.length>f)s=a(r,e=l[f++]),void 0!==s&&c(u,e,s);return u}})},de50:function(t,e,s){},e439:function(t,e,s){var r=s("23e7"),a=s("d039"),n=s("fc6a"),i=s("06cf").f,o=s("83ab"),c=a((function(){i(1)})),l=!o||c;r({target:"Object",stat:!0,forced:l,sham:!o},{getOwnPropertyDescriptor:function(t,e){return i(n(t),e)}})},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-429d84f4.14755cec.js.map