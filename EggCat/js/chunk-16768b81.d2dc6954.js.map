{"version":3,"sources":["webpack:///./src/views/frontend/ProductData.vue?9135","webpack:///./src/views/frontend/ProductData.vue?ea50","webpack:///src/views/frontend/ProductData.vue","webpack:///./src/views/frontend/ProductData.vue?bb1c","webpack:///./src/views/frontend/ProductData.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","cartNum","staticClass","_v","style","productData","_s","title","category","description","content","price","origin_price","on","$event","selectQty","directives","name","rawName","value","expression","domProps","target","composing","qty","unit","addtoCart","id","nowPrice","staticRenderFns","components","CartNum","Alert","data","action","productId","computed","vm","watch","cartSuccess","handler","immediate","created","$route","params","getCart","getProductData","methods","$store","dispatch","showMessage","val","$bus","$emit","resetSuccess","component"],"mappings":"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","file":"js/chunk-16768b81.d2dc6954.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductData.vue?vue&type=style&index=0&scope=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductData.vue?vue&type=style&index=0&scope=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('CartNum',{attrs:{\"cartNum\":_vm.cartNum}}),_c('Alert'),_c('div',{staticClass:\"container pt-5 pb-5 mb-5 mt-72\"},[_c('router-link',{staticClass:\"back\",attrs:{\"to\":\"/CustomerProduct/0\"}},[_c('i',{staticClass:\"fas fa-reply\"}),_vm._v(\" BACK \")]),_c('div',{staticClass:\"product-wrap row\"},[_c('div',{staticClass:\"col-lg-5 col-10 img-wrap mr-5 mb-5\"},[_c('div',{staticClass:\"img-thumbnail img\",style:({'backgroundImage': (\"url(\" + (_vm.productData.imageUrl) + \")\")})}),_c('div',{staticClass:\"mask\"})]),_c('div',{staticClass:\"col-lg-6 col-12 data mt-5\"},[_c('h2',{staticClass:\"mb-3 title text-color\"},[_vm._v(_vm._s(_vm.productData.title))]),_c('span',{staticClass:\"badge badge-warning mb-3\"},[_vm._v(\" \"+_vm._s(_vm.productData.category)+\" \")]),_c('p',{staticClass:\"mb-3 description\"},[_vm._v(\" \"+_vm._s(_vm.productData.description)+\" \")]),_c('h5',{staticClass:\"text-content\"},[_vm._v(\"【產品說明】\")]),_c('p',[_vm._v(_vm._s(_vm.productData.content))]),_c('p',{staticClass:\"mt-5 price\"},[_c('span',{staticClass:\"h2 text-danger mr-3\"},[_vm._v(\"NT$ \"+_vm._s(_vm.productData.price))]),_c('del',{staticClass:\"h6 text-muted\"},[_vm._v(\"NT$ \"+_vm._s(_vm.productData.origin_price))])]),_c('p',{staticClass:\"pt-3\"},[_c('button',{staticClass:\"btn btn-info mr-2\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.selectQty('del')}}},[_vm._v(\" - \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.qty),expression:\"qty\"}],staticClass:\"qty\",attrs:{\"type\":\"text\",\"disabled\":\"\"},domProps:{\"value\":(_vm.qty)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.qty=$event.target.value}}}),_c('button',{staticClass:\"btn btn-info ml-2\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.selectQty('add')}}},[_vm._v(\" + \")]),_c('span',{staticClass:\"ml-2\"},[_vm._v(_vm._s(_vm.productData.unit))]),_c('button',{staticClass:\"btn btn-info float-right\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addtoCart(_vm.productData.id, _vm.qty)}}},[_vm._v(\" 加入購物車 \")]),_c('span',{staticClass:\"total text-color float-right mt-2 mr-3\"},[_vm._v(\"小計 NT$ \"+_vm._s(_vm.nowPrice))])])])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <CartNum :cartNum=\"cartNum\"></CartNum>\n    <Alert></Alert>\n    <div class=\"container pt-5 pb-5 mb-5 mt-72\">\n      <router-link class=\"back\" to=\"/CustomerProduct/0\">\n        <i class=\"fas fa-reply\"></i>\n        BACK\n      </router-link>\n      <div class=\"product-wrap row\">\n        <div class=\"col-lg-5 col-10 img-wrap mr-5 mb-5\">\n          <div class=\"img-thumbnail img\"\n          :style=\"{'backgroundImage': `url(${productData.imageUrl})`}\"></div>\n          <div class=\"mask\"></div>\n        </div>\n        <div class=\"col-lg-6 col-12 data mt-5\">\n          <h2 class=\"mb-3 title text-color\">{{ productData.title }}</h2>\n          <span class=\"badge badge-warning mb-3\">\n            {{ productData.category }}\n          </span>\n          <p class=\"mb-3 description\">\n            {{ productData.description }}\n          </p>\n          <h5 class=\"text-content\">【產品說明】</h5>\n          <p>{{ productData.content }}</p>\n          <p class=\"mt-5 price\">\n            <span class=\"h2 text-danger mr-3\">NT$ {{ productData.price }}</span>\n            <del class=\"h6 text-muted\">NT$ {{ productData.origin_price }}</del>\n          </p>\n          <p class=\"pt-3\">\n            <button type=\"button\" class=\"btn btn-info mr-2\" @click=\"selectQty('del')\"> - </button>\n            <input type=\"text\" class=\"qty\" v-model=\"qty\" disabled>\n            <button type=\"button\" class=\"btn btn-info ml-2\" @click=\"selectQty('add')\"> + </button>\n            <span class=\"ml-2\">{{ productData.unit }}</span>\n            <button @click=\"addtoCart(productData.id, qty)\"\n            type=\"button\" class=\"btn btn-info float-right\">\n              加入購物車\n            </button>\n            <span class=\"total text-color float-right mt-2 mr-3\">小計 NT$ {{ nowPrice }}</span>\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport CartNum from '../../components/frontend/CartNum.vue';\nimport Alert from '../../components/AlertMessage.vue';\n\nexport default {\n  components: {\n    CartNum,\n    Alert,\n  },\n  data() {\n    return {\n      action: '',\n      qty: 1,\n      productId: '',\n    };\n  },\n  computed: {\n    nowPrice() {\n      const vm = this;\n      return vm.productData.price * vm.qty;\n    },\n    ...mapGetters('productsModules', ['productData']),\n    ...mapGetters('cartModules', ['cart', 'cartNum', 'cartSuccess']),\n  },\n  watch: {\n    cartSuccess: {\n      handler: 'showMessage',\n      immediate: true,\n    },\n  },\n  created() {\n    this.productId = this.$route.params.id;\n    this.getCart();\n    this.getProductData();\n  },\n  methods: {\n    ...mapActions('productsModules', ['getAllProducts']),\n    ...mapActions('cartModules', ['getCart', 'resetSuccess']),\n    addtoCart(id, qty = 1) {\n      this.$store.dispatch('cartModules/addtoCart', { id, qty });\n    },\n    selectQty(action) {\n      if (action === 'add') {\n        this.qty += 1;\n      } else {\n        if (this.qty <= 0) return;\n        this.qty -= 1;\n      }\n    },\n    getProductData() {\n      const id = this.productId;\n      this.$store.dispatch('productsModules/getProductData', id);\n    },\n    showMessage(val) {\n      if (val === 'success') {\n        this.$bus.$emit('message:push', '成功加入購物車', 'success');\n        this.resetSuccess();\n      } else if (val === 'failure') {\n        this.$bus.$emit('message:push', '加入購物車失敗', 'danger');\n        this.resetSuccess();\n      }\n    },\n  },\n};\n</script>\n\n<style scope>\n  .product-wrap{\n    margin-top: 3rem;\n    min-height: 60vh;\n  }\n  .img-wrap{\n    position: relative;\n    height: 350px;\n  }\n  .img{\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-size: contain;\n    background-position: center;\n    background-repeat: no-repeat;\n    z-index: 2;\n  }\n  .mask{\n    position: absolute;\n    bottom: -50px;\n    right: -45px;\n    width: 140%;\n    height: 100%;\n    clip-path: polygon(100% 0, 0% 100%, 100% 100%);\n    background-color: rgb(40, 126, 140);\n    z-index: 1;\n  }\n  .back{\n    position: absolute;\n    top: 100px;\n    left: 30px;\n    padding: 5px 5px;\n    width: 100px;\n    height: 55px;\n    color: #fff;\n    clip-path: polygon(100% 0, 0 0, 0 100%);\n    background-color: rgb(40, 126, 140);\n    z-index: 4;\n  }\n  .back:hover{\n    color: #fff;\n    text-shadow: 1px 1px 1px black;\n    text-decoration: none;\n    background-color: rgba(40, 126, 140, 0.7);\n  }\n  .data{\n    min-height: 400px;\n  }\n  .title{\n    position: relative;\n  }\n  .title::before{\n    content: '';\n    position: absolute;\n    bottom: -8px;\n    width: 73px;\n    height: 2px;\n    border-bottom: 3px solid rgb(119, 117, 117);\n  }\n  .description{\n    color: rgb(85, 84, 84);\n    position: relative;\n  }\n  .description::before{\n    content: '';\n    position: absolute;\n    bottom: -8px;\n    width: 100%;\n    height: 2px;\n    border-bottom: 1px dashed rgb(119, 117, 117);\n  }\n  .text-content{\n    color: rgb(35, 124, 146);\n  }\n  .price{\n    position: relative;\n  }\n  .price::after{\n    content: '';\n    position: absolute;\n    bottom: -10px;\n    left:0;\n    width: 100%;\n    height: 2px;\n    border-bottom: 1px dashed rgb(119, 117, 117);\n  }\n  .qty{\n    width: 60px;\n    padding: 5px 5px;\n    outline: none;\n    border-radius: 5px;\n    text-align: center;\n  }\n  .total{\n    font-size: 20px;\n  }\n  @media screen and (max-width: 768px) {\n    .mask {\n      width: 120%;\n      right: -100px;\n    }\n  }\n  @media screen and (max-width: 480px) {\n    .img-wrap{\n      height: 230px;\n    }\n    .back{\n      left: 10px;\n    }\n    .mask {\n      width: 110%;\n      right: -40px;\n    }\n  }\n  @media screen and (max-width: 320px) {\n    .img-wrap{\n      height: 200px;\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductData.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductData.vue?vue&type=template&id=05c5f840&\"\nimport script from \"./ProductData.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductData.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProductData.vue?vue&type=style&index=0&scope=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}